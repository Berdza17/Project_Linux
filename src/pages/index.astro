---
/**
 * HOMEPAGE
 * Main landing page for the furniture company website.
 * 
 * Sections:
 * 1. Hero - Large background image with CTA
 * 2. Featured Products - Grid of product categories
 * 3. Why Choose Us - Benefits/features
 * 4. CTA Section - Contact buttons
 */

import Layout from '../layouts/Layout.astro';
import LazyImage from '../components/LazyImage.astro';
import { siteConfig, getWhatsAppLink, getEmailLink } from '../config.js';

// Istaknuti proizvodi (sa placeholder slikama)
const featuredProducts = [
  {
    id: 1,
    title: 'Moderna Kuhinja',
    category: 'Kuhinje',
    image: '/images/products/kitchen-1',
    link: '/gallery#kitchens'
  },
  {
    id: 2,
    title: 'Trpezarijski Set',
    category: 'Stolovi',
    image: '/images/products/table-1',
    link: '/gallery#tables'
  },
  {
    id: 3,
    title: 'Entertainment Centar',
    category: 'TV Komode',
    image: '/images/products/tv-stand-1',
    link: '/gallery#tv-stands'
  },
  {
    id: 4,
    title: 'Garderober',
    category: 'Ormari',
    image: '/images/products/wardrobe-1',
    link: '/gallery#wardrobes'
  },
  {
    id: 5,
    title: 'Police za Knjige',
    category: 'Skladi≈°tenje',
    image: '/images/products/shelving-1',
    link: '/gallery#storage'
  },
  {
    id: 6,
    title: 'Kancelarijski Namje≈°taj',
    category: 'Kancelarija',
    image: '/images/products/office-1',
    link: '/gallery#office'
  }
];

// Za≈°to izabrati nas
const features = [
  {
    icon: 'üå≥',
    title: 'Premium Materijali',
    description: 'Koristimo samo najkvalitetnije drvo i materijale, osiguravajuƒái trajnost i bezvremensku ljepotu u svakom komadu.'
  },
  {
    icon: '‚ú®',
    title: 'Prilagoƒëeni Dizajn',
    description: 'Svaki projekat je prilagoƒëen va≈°im taƒçnim specifikacijama, prostoru i stilskim preferencijama.'
  },
  {
    icon: 'üî®',
    title: 'Struƒçna Izrada',
    description: 'Godine iskustva i pa≈ænja na detalje u svakom rezu, spoju i zavr≈°noj obradi.'
  },
  {
    icon: 'üíØ',
    title: 'Garancija Kvaliteta',
    description: 'Stojimo iza na≈°eg rada sa sveobuhvatnim garancijama i odliƒçnom postprodajnom podr≈°kom.'
  }
];
---

<Layout 
  title="Poƒçetna" 
  description={siteConfig.seo.description}
>
  <!-- ============================================
       HERO SECTION
       ============================================ -->
  <section class="hero">
    <!-- Background image (using picture element directly for hero reliability) -->
    <div class="hero-background">
      <picture>
        <source srcset={`${siteConfig.hero.image}.webp`} type="image/webp" />
        <img 
          src={`${siteConfig.hero.image}.jpg`}
          alt={`${siteConfig.companyName} - ${siteConfig.hero.tagline}`}
          class="hero-image"
          width="1920"
          height="1080"
          loading="eager"
          decoding="async"
        />
      </picture>
      <!-- Dark overlay for text readability -->
      <div class="hero-overlay"></div>
    </div>

    <!-- Hero content -->
    <div class="hero-content">
      <div class="container">
        <h1 class="hero-title">{siteConfig.hero.title}</h1>
        <p class="hero-tagline">{siteConfig.hero.tagline}</p>
        
        <!-- CTA Buttons -->
        <div class="hero-buttons">
          <a href="/gallery" class="btn btn-primary">
            Pogledaj Galeriju
          </a>
          <a href="/contact" class="btn btn-secondary">
            Kontaktirajte Nas
          </a>
        </div>
      </div>
    </div>
  </section>

  <!-- ============================================
       FEATURED PRODUCTS SECTION
       ============================================ -->
  <section class="featured-products">
    <div class="container">
      <header class="section-header">
        <h2 class="section-title">Na≈°e Specijalnosti</h2>
        <p class="section-description">
          Pregledajte na≈°e najpopularnije kategorije namje≈°taja i pronaƒëite inspiraciju za va≈° sljedeƒái projekat.
        </p>
      </header>

      <div class="products-grid">
        {featuredProducts.map((product) => (
          <article class="product-card">
            <a href={product.link} class="product-link">
              <div class="product-image">
                <LazyImage
                  src={product.image}
                  alt={product.title}
                  width={600}
                  height={400}
                  class="product-img"
                />
                <div class="product-overlay">
                  <span class="product-overlay-text">Pogledaj Vi≈°e</span>
                </div>
              </div>
              <div class="product-info">
                <span class="product-category">{product.category}</span>
                <h3 class="product-title">{product.title}</h3>
              </div>
            </a>
          </article>
        ))}
      </div>

      <div class="section-cta">
        <a href="/gallery" class="btn btn-outline">
          Pogledaj Cijelu Galeriju
        </a>
      </div>
    </div>
  </section>

  <!-- ============================================
       WHY CHOOSE US SECTION
       ============================================ -->
  <section class="why-choose-us">
    <div class="container">
      <header class="section-header">
        <h2 class="section-title">Za≈°to Izabrati Nas</h2>
        <p class="section-description">
          Kvalitetna izrada i zadovoljstvo kupaca su u srcu svega ≈°to radimo.
        </p>
      </header>

      <div class="features-grid">
        {features.map((feature) => (
          <article class="feature-card">
            <div class="feature-icon" aria-hidden="true">{feature.icon}</div>
            <h3 class="feature-title">{feature.title}</h3>
            <p class="feature-description">{feature.description}</p>
          </article>
        ))}
      </div>
    </div>
  </section>

  <!-- ============================================
       CTA SECTION (Call to Action)
       ============================================ -->
  <section class="cta-section">
    <div class="container">
      <div class="cta-content">
        <h2 class="cta-title">Spremni da Zapoƒçnete Va≈° Projekat?</h2>
        <p class="cta-description">
          Kontaktirajte nas danas za besplatne konsultacije i ponudu. Tu smo da o≈æivimo va≈°u viziju.
        </p>

        <!-- Contact buttons -->
        <div class="cta-buttons">
          <!-- WhatsApp button -->
          <a 
            href={getWhatsAppLink('Zdravo! ≈Ωelim se raspitati o va≈°em namje≈°taju.')}
            target="_blank"
            rel="noopener noreferrer"
            class="btn btn-whatsapp"
          >
            <span class="btn-icon" aria-hidden="true">üí¨</span>
            WhatsApp
          </a>

          <!-- Email button -->
          <a 
            href={getEmailLink('Upit za Namje≈°taj')}
            class="btn btn-email"
          >
            <span class="btn-icon" aria-hidden="true">‚úâÔ∏è</span>
            Email
          </a>

          <!-- Phone button (for mobile) -->
          <a 
            href={`tel:${siteConfig.phone.replace(/\s/g, '')}`}
            class="btn btn-phone"
          >
            <span class="btn-icon" aria-hidden="true">üìû</span>
            Pozovite Nas
          </a>
        </div>

        <!-- Additional contact info -->
        <p class="cta-info">
          Ili nas posjetite na adresi: <strong>{siteConfig.address}</strong>
        </p>
      </div>
    </div>
  </section>
</Layout>

<style>
  /* ============================================
     HERO SECTION
     ============================================ */
  .hero {
    position: relative;
    height: 100vh;
    min-height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
  }

  .hero-background {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 0;
  }

  /* Make picture element fill the hero */
  .hero-background picture {
    display: block;
    width: 100%;
    height: 100%;
  }

  /* Make the hero image fill and cover */
  .hero-image {
    width: 100%;
    height: 100%;
    object-fit: cover;
    display: block;
  }

  /* Dark overlay for text readability */
  .hero-overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(
      135deg,
      rgba(0, 0, 0, 0.6) 0%,
      rgba(0, 0, 0, 0.4) 100%
    );
    z-index: 1;
  }

  .hero-content {
    position: relative;
    z-index: 2;
    text-align: center;
    color: var(--color-text-light);
    padding: var(--space-32) 0;
  }

  .hero-title {
    font-size: var(--font-size-3xl);
    font-weight: var(--font-weight-bold);
    margin-bottom: var(--space-16);
    color: var(--color-text-light);
    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
  }

  .hero-tagline {
    font-size: var(--font-size-lg);
    margin-bottom: var(--space-32);
    color: rgba(255, 255, 255, 0.95);
    max-width: 600px;
    margin-left: auto;
    margin-right: auto;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
  }

  .hero-buttons {
    display: flex;
    gap: var(--space-16);
    justify-content: center;
    flex-wrap: wrap;
  }

  /* Responsive hero text */
  @media (min-width: 640px) {
    .hero-title {
      font-size: var(--font-size-4xl);
    }
    .hero-tagline {
      font-size: var(--font-size-xl);
    }
  }

  @media (min-width: 1024px) {
    .hero-title {
      font-size: var(--font-size-6xl);
    }
    .hero-tagline {
      font-size: var(--font-size-2xl);
    }
  }

  /* ============================================
     BUTTONS
     ============================================ */
  .btn {
    display: inline-flex;
    align-items: center;
    gap: var(--space-8);
    padding: var(--space-16) var(--space-32);
    font-size: var(--font-size-base);
    font-weight: var(--font-weight-semibold);
    text-decoration: none;
    border-radius: var(--radius-md);
    transition: all var(--transition-base);
    cursor: pointer;
    border: 2px solid transparent;
  }

  .btn-primary {
    background-color: var(--color-primary);
    color: var(--color-text-light);
  }

  .btn-primary:hover {
    background-color: var(--color-primary-dark);
    transform: translateY(-2px);
    box-shadow: var(--shadow-lg);
    text-decoration: none;
  }

  .btn-secondary {
    background-color: var(--color-bg);
    color: var(--color-primary);
    border-color: var(--color-bg);
  }

  .btn-secondary:hover {
    background-color: transparent;
    color: var(--color-bg);
    border-color: var(--color-bg);
    text-decoration: none;
  }

  .btn-outline {
    background-color: transparent;
    color: var(--color-primary);
    border-color: var(--color-primary);
  }

  .btn-outline:hover {
    background-color: var(--color-primary);
    color: var(--color-text-light);
    text-decoration: none;
  }

  .btn-whatsapp {
    background-color: #25D366;
    color: var(--color-text-light);
  }

  .btn-whatsapp:hover {
    background-color: #20BA5A;
    transform: translateY(-2px);
    box-shadow: var(--shadow-lg);
    text-decoration: none;
  }

  .btn-email {
    background-color: var(--color-primary);
    color: var(--color-text-light);
  }

  .btn-email:hover {
    background-color: var(--color-primary-dark);
    transform: translateY(-2px);
    box-shadow: var(--shadow-lg);
    text-decoration: none;
  }

  .btn-phone {
    background-color: var(--color-accent);
    color: var(--color-text-light);
  }

  .btn-phone:hover {
    background-color: var(--color-primary-dark);
    transform: translateY(-2px);
    box-shadow: var(--shadow-lg);
    text-decoration: none;
  }

  .btn-icon {
    font-size: var(--font-size-xl);
  }

  /* ============================================
     SECTION COMMONS
     ============================================ */
  .featured-products,
  .why-choose-us,
  .cta-section {
    padding: var(--space-64) 0;
  }

  .section-header {
    text-align: center;
    margin-bottom: var(--space-48);
  }

  .section-title {
    font-size: var(--font-size-3xl);
    margin-bottom: var(--space-16);
    color: var(--color-text);
  }

  .section-description {
    font-size: var(--font-size-lg);
    color: var(--color-text-secondary);
    max-width: 700px;
    margin: 0 auto;
  }

  .section-cta {
    text-align: center;
    margin-top: var(--space-48);
  }

  /* ============================================
     FEATURED PRODUCTS
     ============================================ */
  .featured-products {
    background-color: var(--color-bg);
  }

  .products-grid {
    display: grid;
    grid-template-columns: 1fr;
    gap: var(--space-32);
  }

  /* Responsive grid: 2 columns on tablet, 3 on desktop */
  @media (min-width: 640px) {
    .products-grid {
      grid-template-columns: repeat(2, 1fr);
      gap: var(--space-24);
    }
  }

  @media (min-width: 1024px) {
    .products-grid {
      grid-template-columns: repeat(3, 1fr);
      gap: var(--space-32);
    }
  }

  .product-card {
    background-color: var(--color-bg-secondary);
    border-radius: var(--radius-lg);
    overflow: hidden;
    box-shadow: var(--shadow-md);
    transition: all var(--transition-base);
  }

  .product-card:hover {
    transform: translateY(-8px);
    box-shadow: var(--shadow-xl);
  }

  .product-link {
    text-decoration: none;
    color: inherit;
    display: block;
  }

  .product-image {
    position: relative;
    overflow: hidden;
    aspect-ratio: 4/3;
    background-color: var(--color-bg-secondary);
  }

  .product-image :global(.product-img) {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform var(--transition-slow);
  }

  .product-card:hover .product-image :global(.product-img) {
    transform: scale(1.05);
  }

  /* Overlay on hover */
  .product-overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: var(--color-overlay);
    display: flex;
    align-items: center;
    justify-content: center;
    opacity: 0;
    transition: opacity var(--transition-base);
  }

  .product-card:hover .product-overlay {
    opacity: 1;
  }

  .product-overlay-text {
    color: var(--color-text-light);
    font-size: var(--font-size-lg);
    font-weight: var(--font-weight-semibold);
  }

  .product-info {
    padding: var(--space-20);
  }

  .product-category {
    display: inline-block;
    font-size: var(--font-size-sm);
    color: var(--color-primary);
    font-weight: var(--font-weight-semibold);
    text-transform: uppercase;
    letter-spacing: var(--letter-spacing-wide);
    margin-bottom: var(--space-8);
  }

  .product-title {
    font-size: var(--font-size-xl);
    font-weight: var(--font-weight-bold);
    color: var(--color-text);
    margin: 0;
  }

  /* ============================================
     WHY CHOOSE US
     ============================================ */
  .why-choose-us {
    background-color: var(--color-bg-secondary);
  }

  .features-grid {
    display: grid;
    grid-template-columns: 1fr;
    gap: var(--space-32);
  }

  @media (min-width: 640px) {
    .features-grid {
      grid-template-columns: repeat(2, 1fr);
      gap: var(--space-32);
    }
  }

  @media (min-width: 1024px) {
    .features-grid {
      grid-template-columns: repeat(4, 1fr);
      gap: var(--space-24);
    }
  }

  .feature-card {
    text-align: center;
    padding: var(--space-32);
    background-color: var(--color-bg-secondary);
    border-radius: var(--radius-lg);
    box-shadow: var(--shadow-sm);
    transition: all var(--transition-base);
  }

  .feature-card:hover {
    box-shadow: var(--shadow-lg);
    transform: translateY(-4px);
  }

  .feature-icon {
    font-size: var(--font-size-6xl);
    margin-bottom: var(--space-16);
    line-height: 1;
  }

  .feature-title {
    font-size: var(--font-size-xl);
    font-weight: var(--font-weight-bold);
    margin-bottom: var(--space-12);
    color: var(--color-text);
  }

  .feature-description {
    font-size: var(--font-size-base);
    color: var(--color-text-secondary);
    line-height: var(--line-height-relaxed);
    margin: 0;
  }

  /* ============================================
     CTA SECTION
     ============================================ */
  .cta-section {
    background: linear-gradient(
      135deg,
      var(--color-bg-tertiary) 0%,
      var(--color-bg-secondary) 100%
    );
    color: var(--color-text-light);
  }

  .cta-content {
    text-align: center;
    max-width: 800px;
    margin: 0 auto;
  }

  .cta-title {
    font-size: var(--font-size-3xl);
    margin-bottom: var(--space-16);
    color: var(--color-text);
  }

  .cta-description {
    font-size: var(--font-size-lg);
    margin-bottom: var(--space-32);
    color: var(--color-text-secondary);
  }

  .cta-buttons {
    display: flex;
    gap: var(--space-16);
    justify-content: center;
    flex-wrap: wrap;
    margin-bottom: var(--space-24);
  }

  .cta-info {
    font-size: var(--font-size-base);
    color: var(--color-text-secondary);
    margin: 0;
  }

  @media (min-width: 768px) {
    .cta-title {
      font-size: var(--font-size-4xl);
    }
  }

  /* ============================================
     ACCESSIBILITY & PERFORMANCE
     ============================================ */
  
  /* Reduce motion for users who prefer it */
  @media (prefers-reduced-motion: reduce) {
    .hero-title,
    .hero-tagline,
    .product-card,
    .feature-card,
    .btn {
      transition: none;
    }
    
    .product-image :global(.product-img) {
      transition: none;
    }
  }

  /* Print styles */
  @media print {
    .hero-buttons,
    .cta-buttons {
      display: none;
    }
  }
</style>
